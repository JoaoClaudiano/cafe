<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
  <title>Café Belle Vue — Narrativa 3D Imersiva</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* ---------- RESET & VARIÁVEIS ---------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html {
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    body {
      font-family: 'Inter', sans-serif;
      font-weight: 350;
      color: white;
      background-color: #1a1a1a;
      overflow-x: hidden;
      perspective: 1200px;
    }

    /* ---------- VÍDEO DE FUNDO FIXO ---------- */
    .background-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      pointer-events: none;
    }
    .video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at 70% 40%, rgba(44,62,47,0.45) 0%, rgba(20,15,10,0.75) 100%);
      z-index: -1;
      pointer-events: none;
      transition: background 0.2s cubic-bezier(0.2, 0, 0, 1);
    }

    /* ---------- ESPAÇO DE SCROLL ARTIFICIAL ---------- */
    .scroll-space {
      height: 500vh; /* 5 seções * 100vh */
      position: relative;
    }

    /* ---------- CÂMERA 3D (FIXA NO TOPO, MOVE NO EIXO Z) ---------- */
    .camera {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      transform-style: preserve-3d;
      transform: translateZ(0px);
      will-change: transform;
    }

    /* ---------- CADA AMBIENTE É UM CARD POSICIONADO NO EIXO Z ---------- */
    .room {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      transform-style: preserve-3d;
      will-change: transform, opacity;
      transition: transform 0.1s cubic-bezier(0.2, 0, 0, 1), opacity 0.15s;
      padding: 2rem;
      pointer-events: none; /* permite clicar através até o botão, mas o conteúdo precisa ser clicável */
    }
    .room * {
      pointer-events: auto; /* conteúdo clicável */
    }

    /* Conteúdo do ambiente (card vítreo) */
    .room-content {
      width: 90%;
      max-width: 1280px;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 32px;
      padding: 3rem;
      border: 1px solid rgba(255,255,255,0.3);
      box-shadow: 0 25px 40px rgba(0,0,0,0.3);
      color: #2c3e2f;
      transform: translateZ(20px); /* pequeno relevo */
      max-height: 80vh;
      overflow-y: auto; /* para conteúdos longos */
    }

    /* Hero não precisa de card vítreo */
    .hero-room .room-content {
      background: transparent;
      backdrop-filter: none;
      border: none;
      box-shadow: none;
      color: white;
      text-shadow: 0 4px 30px rgba(0,0,0,0.5);
    }

    /* ---------- TIPOGRAFIA ---------- */
    h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(3.8rem, 12vw, 6rem);
      line-height: 1;
      margin-bottom: 1rem;
    }
    h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.8rem;
      margin-bottom: 1.5rem;
      color: #2c3e2f;
    }
    @media (max-width: 768px) {
      h2 { font-size: 2rem; }
    }

    /* ---------- BOTÃO MAGNÉTICO ---------- */
    .btn {
      display: inline-block;
      background: #2c3e2f;
      color: white;
      padding: 1rem 2.8rem;
      border-radius: 50px;
      font-weight: 500;
      border: 1px solid transparent;
      transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1);
      box-shadow: 0 10px 25px -8px rgba(0,0,0,0.3);
      text-decoration: none;
      cursor: pointer;
    }
    .btn:hover {
      background: transparent;
      border-color: white;
      color: white;
    }

    /* ---------- GRID DE CARDÁPIO (SWIPE MOBILE) ---------- */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }
    .menu-card {
      background: rgba(255,255,255,0.9);
      border-radius: 24px;
      overflow: hidden;
      transition: 0.3s;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .menu-card:hover {
      transform: translateY(-8px);
      background: white;
    }
    .menu-card img {
      width: 100%;
      height: 220px;
      object-fit: cover;
    }
    @media (max-width: 768px) {
      .menu-grid {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        gap: 1.2rem;
        padding-bottom: 1rem;
      }
      .menu-card {
        flex: 0 0 85%;
        scroll-snap-align: start;
      }
    }

    /* ---------- INFO GRID (LOCALIZAÇÃO) ---------- */
    .info-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }
    .info-item {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .info-item i {
      font-size: 2rem;
      color: #b78c5a;
      margin-bottom: 0.5rem;
    }

    /* ---------- FOOTER (fora da câmera, fixo no final) ---------- */
    footer {
      background: rgba(44,62,47,0.5);
      backdrop-filter: blur(12px);
      color: white;
      padding: 3rem 2rem;
      border-top: 1px solid rgba(255,255,255,0.2);
      position: relative;
      z-index: 100;
      margin-top: 500vh; /* empurra para depois do espaço de scroll */
    }

    /* ---------- MOBILE: DESLIGA EFEITOS 3D ---------- */
    @media (max-width: 768px) {
      .scroll-space {
        height: auto;
      }
      .camera {
        position: relative;
        transform: none !important;
        height: auto;
      }
      .room {
        position: relative;
        transform: none !important;
        opacity: 1 !important;
        height: auto;
        min-height: 100vh;
        padding: 2rem 1rem;
      }
      .room-content {
        transform: none;
        width: 100%;
        max-height: none;
        overflow-y: visible;
      }
      .background-video {
        display: none;
      }
      .video-overlay {
        background: url('https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2') center/cover no-repeat fixed;
      }
    }

    /* ---------- REDUZIR MOVIMENTO ---------- */
    @media (prefers-reduced-motion) {
      .camera {
        transform: none !important;
      }
      .room {
        transform: none !important;
        opacity: 1 !important;
        position: relative;
        height: auto;
      }
      .scroll-space {
        height: auto;
      }
    }
  </style>
</head>
<body>
  <!-- VÍDEO DE FUNDO (FONTE PÚBLICA) -->
  <video class="background-video" id="bgVideo" autoplay muted loop playsinline poster="https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg">
    <source src="https://videos.pexels.com/video-files/3055500/3055500-uhd_2560_1440_30fps.mp4" type="video/mp4">
    <source src="https://cdn.coverr.co/videos/coverr-pouring-coffee-1645/1080p.mp4" type="video/mp4">
    Seu navegador não suporta vídeo.
  </video>
  <div class="video-overlay" id="videoOverlay"></div>

  <!-- ESPAÇO DE SCROLL (altura total = 5 * 100vh) -->
  <div class="scroll-space"></div>

  <!-- CÂMERA 3D (FIXA NA VIEWPORT) -->
  <div class="camera" id="camera">

    <!-- AMBIENTE 0: HERO (Z = 0) -->
    <div class="room hero-room" id="room0" data-z="0">
      <div class="room-content" style="text-align: center;">
        <span style="font-size: 0.8rem; letter-spacing: 5px; background: rgba(44,62,47,0.4); backdrop-filter: blur(8px); padding: 0.6rem 1.8rem; border-radius: 50px; color: white;">✨ Winter '26 — Paris Édition</span>
        <h1 style="color: white;">Paris em<br>cada gole</h1>
        <p style="font-size: 1.5rem; margin-bottom: 2.5rem; color: rgba(255,255,255,0.9);">Café especial · Croissants · Arte & aconchego</p>
        <a href="#" class="btn magnetic-btn" onclick="document.getElementById('room1').scrollIntoView({behavior: 'smooth'}); return false;">Descobrir o menu →</a>
      </div>
    </div>

    <!-- AMBIENTE 1: HISTÓRIA (Z = -800) -->
    <div class="room" id="room1" data-z="-800">
      <div class="room-content">
        <h2>Nossa história</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: center;">
          <div>
            <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 1.5rem;">Em uma pequena travessa do 6º arrondissement, nasceu o sonho de trazer a cadência parisiense para o coração do Brasil. <strong>Café Belle Vue</strong> é uma homenagem aos bistrôs escondidos, onde o tempo desacelera e o aroma do café recém-torrado conta histórias.</p>
            <p style="font-size: 1.2rem; line-height: 1.8;">Nossos grãos são cultivados nas montanhas da Borgonha e torrados artesanalmente. Cada xícara é um convite: desacelere, sinta o momento.</p>
            <p style="font-size: 1.3rem; font-family: 'Playfair Display'; color: #5a3e2b; margin-top: 2rem;">— "O verdadeiro luxo é o tempo bem gasto."</p>
          </div>
          <div style="border-radius: 24px; overflow: hidden; aspect-ratio: 4/5;">
            <!-- Imagem fictícia (placeholder temático) -->
            <img src="https://placecats.com/800/1000?random=1" alt="Interior do café Belle Vue" style="width: 100%; height: 100%; object-fit: cover;">
          </div>
        </div>
      </div>
    </div>

    <!-- AMBIENTE 2: CARDÁPIO (Z = -1600) -->
    <div class="room" id="room2" data-z="-1600">
      <div class="room-content">
        <h2>Sabores de Paris</h2>
        <p style="font-size: 1.3rem; margin-bottom: 2rem; color: #2c3e2f;">Clássicos franceses com um toque contemporâneo</p>
        <div class="menu-grid">
          <div class="menu-card">
            <img src="https://placecats.com/400/300?random=2" alt="Espresso">
            <div style="padding: 1.5rem;">
              <h3 style="font-size: 1.8rem; color: #2c3e2f;">Espresso Belle</h3>
              <p style="color: #3a3a3a;">Blend exclusivo de arábica com notas de chocolate e frutas vermelhas.</p>
              <span style="font-size: 1.6rem; font-weight: 700; color: #b78c5a;">R$ 12,50</span>
            </div>
          </div>
          <div class="menu-card">
            <img src="https://placecats.com/400/301?random=3" alt="Croissant">
            <div style="padding: 1.5rem;">
              <h3 style="font-size: 1.8rem; color: #2c3e2f;">Croissant à la française</h3>
              <p style="color: #3a3a3a;">Massa folhada laminada à mão, manteiga francesa.</p>
              <span style="font-size: 1.6rem; font-weight: 700; color: #b78c5a;">R$ 18,90</span>
            </div>
          </div>
          <div class="menu-card">
            <img src="https://placecats.com/400/302?random=4" alt="Tartelette">
            <div style="padding: 1.5rem;">
              <h3 style="font-size: 1.8rem; color: #2c3e2f;">Tartelette citron</h3>
              <p style="color: #3a3a3a;">Massa doce, creme de limão siciliano e merengue tostado.</p>
              <span style="font-size: 1.6rem; font-weight: 700; color: #b78c5a;">R$ 24,50</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- AMBIENTE 3: LOCALIZAÇÃO (Z = -2400) -->
    <div class="room" id="room3" data-z="-2400">
      <div class="room-content">
        <h2>Encontre seu refúgio</h2>
        <div class="info-grid">
          <div class="info-item">
            <i class="fas fa-map-pin"></i>
            <h4 style="font-size: 1.6rem; margin: 0.5rem 0;">Endereço</h4>
            <p>Rua Augusta, 520 – Consolação</p>
            <p>São Paulo / SP — 01305-000</p>
            <p style="margin-top: 1rem;"><i class="fas fa-train"></i> Metrô Augusta (200m)</p>
          </div>
          <div class="info-item">
            <i class="fas fa-clock"></i>
            <h4 style="font-size: 1.6rem; margin: 0.5rem 0;">Horário</h4>
            <ul style="list-style: none;">
              <li style="display: flex; justify-content: space-between; padding: 0.3rem 0;">Seg–Sex <span>08:00 – 20:00</span></li>
              <li style="display: flex; justify-content: space-between; padding: 0.3rem 0;">Sábado <span>09:00 – 18:00</span></li>
              <li style="display: flex; justify-content: space-between; padding: 0.3rem 0;">Domingo <span>10:00 – 16:00</span></li>
            </ul>
            <p style="margin-top: 1rem; font-style: italic;">*Happy hour 17h–19h: 20% off</p>
          </div>
        </div>
        <!-- Mapa fictício -->
        <div style="margin-top: 2rem; background: rgba(0,0,0,0.1); border-radius: 16px; padding: 1.5rem; text-align: center;">
          <i class="fas fa-map" style="font-size: 2rem; color: #b78c5a;"></i>
          <p style="margin-top: 0.5rem;">Mapa interativo disponível em breve</p>
        </div>
      </div>
    </div>

    <!-- AMBIENTE 4: CONTATO / FOOTER (Z = -3200) -->
    <div class="room" id="room4" data-z="-3200">
      <div class="room-content" style="background: rgba(44,62,47,0.9); color: white;">
        <h2 style="color: white;">Conecte-se</h2>
        <div style="display: flex; flex-direction: column; align-items: center; gap: 2rem;">
          <p style="font-size: 1.3rem;">Siga-nos para mais histórias e cafés</p>
          <div style="display: flex; gap: 1.5rem;">
            <a href="#" class="magnetic-btn" style="color: white; background: rgba(255,255,255,0.1); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8rem;"><i class="fab fa-instagram"></i></a>
            <a href="#" class="magnetic-btn" style="color: white; background: rgba(255,255,255,0.1); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8rem;"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="magnetic-btn" style="color: white; background: rgba(255,255,255,0.1); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8rem;"><i class="fab fa-pinterest"></i></a>
          </div>
          <p><i class="fas fa-phone-alt"></i> (11) 98765-4321</p>
          <p><i class="fas fa-envelope"></i> bonjour@bellevuecafe.com.br</p>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER (FINAL DA PÁGINA, APÓS O SCROLL SPACE) -->
  <footer>
    <div style="max-width: 1280px; margin: 0 auto; text-align: center;">
      <span style="font-family: 'Playfair Display'; font-size: 2.2rem; font-weight: 800;">Belle Vue</span>
      <p style="margin: 1rem 0;">Café de especialidade e doçaria francesa. Um pedaço de Paris que cabe na sua xícara.</p>
      <div style="border-top: 1px solid rgba(255,255,255,0.2); padding-top: 2rem; margin-top: 2rem;">
        © 2026 Café Belle Vue — Édition Winter '26. Paris em cada gole.
      </div>
    </div>
  </footer>

  <script>
    (function() {
      "use strict";

      const camera = document.getElementById('camera');
      const rooms = Array.from(document.querySelectorAll('.room'));
      const video = document.getElementById('bgVideo');
      const overlay = document.getElementById('videoOverlay');
      const scrollSpace = document.querySelector('.scroll-space');

      // Posições Z de cada ambiente
      const zPositions = rooms.map(room => parseFloat(room.dataset.z) || 0);
      
      // Limites da câmera no eixo Z
      const Z_START = 200;    // começa à frente do hero
      const Z_END = -3400;    // termina após o último ambiente (ajustado)

      // Função principal: move a câmera no eixo Z baseado no scroll
      function updateCamera() {
        if (window.innerWidth <= 768) return; // mobile: desliga

        const scrollY = window.scrollY;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const progress = docHeight > 0 ? scrollY / docHeight : 0;

        // Calcula posição Z da câmera (linear)
        const cameraZ = Z_START + (Z_END - Z_START) * progress;
        camera.style.transform = `translateZ(${cameraZ}px)`;

        // Ajusta cada ambiente baseado na distância entre sua posição e a câmera
        rooms.forEach((room, index) => {
          const roomZ = zPositions[index];
          const distance = Math.abs(cameraZ - roomZ);
          
          // Escala e opacidade baseadas na distância
          let scale, opacity;
          if (distance < 200) {
            scale = 1;
            opacity = 1;
          } else if (distance < 600) {
            const factor = (distance - 200) / 400;
            scale = 1 - factor * 0.3; // de 1 a 0.7
            opacity = 1 - factor * 1;  // de 1 a 0
          } else {
            scale = 0.7;
            opacity = 0;
          }

          // Suaviza
          scale = Math.max(0.7, Math.min(1, scale));
          opacity = Math.max(0, Math.min(1, opacity));

          // Rotação 3D sutil quando perto
          let rotateY = 0, rotateX = 0;
          if (distance < 300) {
            const nearFactor = 1 - distance / 300;
            rotateY = -3 * nearFactor;
            rotateX = 2 * nearFactor;
          }

          room.style.transform = `translateZ(${roomZ}px) rotateY(${rotateY}deg) rotateX(${rotateX}deg) scale(${scale})`;
          room.style.opacity = opacity;
        });

        // Transição de cor do overlay (progresso)
        if (overlay) {
          let r = Math.round(44 + (120 - 44) * progress);
          let g = Math.round(62 + (80 - 62) * progress);
          let b = Math.round(47 + (60 - 47) * progress);
          overlay.style.background = `radial-gradient(ellipse at 70% 40%, rgba(${r},${g},${b},0.45) 0%, rgba(20,15,10,0.75) 100%)`;
        }

        // Slow motion do vídeo (progressivo)
        if (video) {
          video.playbackRate = Math.max(0.4, 1 - progress * 0.6);
        }
      }

      // ---------- MAGNETIC BUTTONS ----------
      function initMagnetic() {
        const magnets = document.querySelectorAll('.magnetic-btn, .btn');
        magnets.forEach(el => {
          el.addEventListener('mousemove', (e) => {
            if (window.innerWidth <= 768) return;
            const rect = el.getBoundingClientRect();
            const x = e.clientX - rect.left - rect.width/2;
            const y = e.clientY - rect.top - rect.height/2;
            el.style.transform = `translate(${x*0.2}px, ${y*0.1}px) scale(1.02)`;
          });
          el.addEventListener('mouseleave', () => {
            el.style.transform = 'translate(0, 0) scale(1)';
          });
        });
      }

      // ---------- PARALLAX SUAVE NA IMAGEM DA HISTÓRIA ----------
      function initParallax() {
        const storyImg = document.querySelector('#room1 .room-content img');
        if (storyImg) {
          window.addEventListener('scroll', () => {
            if (window.innerWidth <= 768) return;
            const rect = storyImg.getBoundingClientRect();
            const viewportHeight = window.innerHeight;
            const centerY = rect.top + rect.height/2;
            const offset = (centerY - viewportHeight/2) * 0.05;
            storyImg.style.transform = `translateY(${offset}px) scale(1.05)`;
          });
        }
      }

      // ---------- FALLBACK VÍDEO ----------
      if (video) {
        video.addEventListener('error', function() {
          this.style.display = 'none';
          overlay.style.background = "url('https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2') center/cover no-repeat fixed";
        });
      }

      // ---------- OTIMIZAÇÃO SCROLL ----------
      let ticking = false;
      function onScroll() {
        if (!ticking) {
          requestAnimationFrame(() => {
            updateCamera();
            ticking = false;
          });
          ticking = true;
        }
      }

      window.addEventListener('scroll', onScroll);
      window.addEventListener('resize', onScroll);
      onScroll(); // inicial

      initMagnetic();
      initParallax();

      // Ajuste para evitar que o scrollSpace seja muito pequeno em algumas telas
      function adjustScrollSpace() {
        if (window.innerWidth <= 768) return;
        // Garante que o scrollSpace tenha altura suficiente para percorrer todos os Zs
        const totalZRange = Math.abs(Z_START - Z_END);
        const vhPerUnit = 0.15; // 15vh para cada 100 unidades Z (ajuste fino)
        const neededHeight = totalZRange * vhPerUnit;
        scrollSpace.style.height = `${neededHeight}vh`;
      }
      adjustScrollSpace();
      window.addEventListener('resize', adjustScrollSpace);
    })();
  </script>
  <noscript>
    <style>.background-video { display: none; } .video-overlay { background: url('https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2') center/cover no-repeat fixed; }</style>
  </noscript>
</body>
</html>
