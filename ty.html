<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
  <title>Café Belle Vue — Édition Winter '26 | Narrativa 3D</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* ---------- VARIÁVEIS & RESET ---------- */
    :root {
      --color-deep-espresso: #2c3e2f;
      --color-cream: #fff9ef;
      --color-caramel: #b78c5a;
      --glass-card: rgba(255, 255, 255, 0.75);
      --transition-shopify: cubic-bezier(0.2, 0, 0, 1);
      --radius-md: 24px;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html {
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    body {
      font-family: 'Inter', sans-serif;
      font-weight: 350;
      color: #fff;
      background-color: #1e1e1e;
      overflow-x: hidden;
      perspective: 1200px;  /* 3D perspective global */
      transform-style: preserve-3d;
    }

    /* ---------- VÍDEO DE FUNDO FIXO ---------- */
    .background-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      pointer-events: none;
    }
    .video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at 70% 40%, rgba(44,62,47,0.45) 0%, rgba(20,15,10,0.7) 100%);
      z-index: -1;
      pointer-events: none;
      transition: background 0.2s var(--transition-shopify);
    }

    /* ---------- CONTAINER 3D DAS SEÇÕES ---------- */
    .scene {
      position: relative;
      width: 100%;
      min-height: 100vh;
      transform-style: preserve-3d;
      transform: translateZ(0);
    }

    /* ---------- CADA SEÇÃO É UM "CARD 3D" ---------- */
    .section-3d {
      position: relative;
      width: 90%;
      max-width: 1280px;
      margin: 0 auto;
      padding: 4rem 2rem;
      border-radius: var(--radius-md);
      background: var(--glass-card);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255,255,255,0.3);
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      transform-style: preserve-3d;
      will-change: transform, opacity;
      transition: transform 0.1s var(--transition-shopify), opacity 0.1s var(--transition-shopify);
      margin-bottom: 30vh; /* espaçamento para permitir rolagem suave */
    }

    /* Diferenciação visual para o Hero (sem card, mais integrado) */
    .hero-3d {
      background: transparent;
      backdrop-filter: none;
      border: none;
      box-shadow: none;
      color: white;
      text-shadow: 0 4px 30px rgba(0,0,0,0.5);
    }

    /* ---------- TIPOGRAFIA ---------- */
    h2 {
      font-family: 'Playfair Display', serif;
      font-size: 3.2rem;
      margin-bottom: 1.5rem;
      letter-spacing: -0.02em;
    }
    @media (max-width: 768px) {
      h2 { font-size: 2.4rem; }
    }

    /* ---------- BOTÃO MAGNÉTICO ---------- */
    .btn {
      display: inline-block;
      background: var(--color-deep-espresso);
      color: white;
      padding: 1rem 2.8rem;
      border-radius: 50px;
      font-weight: 500;
      border: 1px solid transparent;
      transition: transform 0.2s var(--transition-shopify);
      box-shadow: 0 10px 25px -8px rgba(0,0,0,0.3);
    }
    .btn:hover {
      background: transparent;
      border-color: white;
      transform: scale(1.02) translateY(-3px);
    }

    /* ---------- GRID DE CARDÁPIO (com swipe mobile) ---------- */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }
    .menu-card {
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(8px);
      border-radius: var(--radius-md);
      overflow: hidden;
      transition: 0.3s;
    }
    .menu-card:hover {
      transform: translateY(-8px);
      background: white;
    }
    @media (max-width: 768px) {
      .menu-grid {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        gap: 1.2rem;
        padding-bottom: 1rem;
      }
      .menu-card {
        flex: 0 0 85%;
        scroll-snap-align: start;
      }
    }

    /* ---------- FOOTER ---------- */
    footer {
      background: rgba(44,62,47,0.4);
      backdrop-filter: blur(12px);
      color: white;
      padding: 3rem 2rem;
      border-top: 1px solid rgba(255,255,255,0.2);
    }

    /* ---------- MOBILE: reduzir efeitos 3D ---------- */
    @media (max-width: 768px) {
      .section-3d {
        transform: none !important; /* desliga 3D no mobile para performance e conforto */
        margin-bottom: 20vh;
      }
      .background-video {
        display: none;
      }
      .video-overlay {
        background: url('https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2') center/cover no-repeat fixed;
      }
    }

    /* ---------- FALLBACK PARA REDUZIR MOVIMENTO ---------- */
    @media (prefers-reduced-motion) {
      .section-3d {
        transform: none !important;
        opacity: 1 !important;
      }
    }
  </style>
</head>
<body>
  <!-- VÍDEO DE FUNDO -->
  <video class="background-video" id="bgVideo" autoplay muted loop playsinline poster="https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg">
    <source src="https://videos.pexels.com/video-files/3055500/3055500-uhd_2560_1440_30fps.mp4" type="video/mp4">
    <source src="https://cdn.coverr.co/videos/coverr-pouring-coffee-1645/1080p.mp4" type="video/mp4">
  </video>
  <div class="video-overlay" id="videoOverlay"></div>

  <!-- CENA 3D: TODAS AS SEÇÕES DENTRO DE UM MESMO CONTEXTO 3D -->
  <div class="scene">

    <!-- SEÇÃO 1: HERO -->
    <section id="home" class="section-3d hero-3d" data-section-index="0">
      <div style="max-width: 900px; margin: 0 auto; text-align: center; padding: 15vh 0;">
        <span style="font-size: 0.8rem; letter-spacing: 5px; background: rgba(44,62,47,0.4); backdrop-filter: blur(8px); padding: 0.6rem 1.8rem; border-radius: 50px;">✨ Winter '26 — Paris Édition</span>
        <h1 style="font-size: clamp(3.8rem, 12vw, 6rem); font-family: 'Playfair Display'; line-height: 1; margin: 1.5rem 0 1rem;">Paris em<br>cada gole</h1>
        <p style="font-size: 1.5rem; margin-bottom: 2.5rem;">Café especial · Croissants · Arte & aconchego</p>
        <a href="#historia" class="btn magnetic-btn">Descobrir o menu →</a>
      </div>
    </section>

    <!-- SEÇÃO 2: HISTÓRIA -->
    <section id="historia" class="section-3d" data-section-index="1">
      <h2>Nossa história</h2>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: center;">
        <div>
          <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 1.5rem;">Em uma pequena travessa do 6º arrondissement, nasceu o sonho de trazer a cadência parisiense para o coração do Brasil. <strong>Café Belle Vue</strong> é uma homenagem aos bistrôs escondidos, onde o tempo desacelera e o aroma do café recém-torrado conta histórias.</p>
          <p style="font-size: 1.2rem; line-height: 1.8;">Nossos grãos são cultivados nas montanhas da Borgonha e torrados artesanalmente. Cada xícara é um convite: desacelere, sinta o momento.</p>
          <p style="font-size: 1.3rem; font-family: 'Playfair Display'; color: #5a3e2b; margin-top: 2rem;">— "O verdadeiro luxo é o tempo bem gasto."</p>
        </div>
        <div style="border-radius: var(--radius-md); overflow: hidden; aspect-ratio: 4/5;">
          <img src="https://images.unsplash.com/photo-1554115331131-375e3b3e54b1?q=80&w=1974&auto=format&fit=crop" alt="Interior do café" style="width: 100%; height: 100%; object-fit: cover;">
        </div>
      </div>
    </section>

    <!-- SEÇÃO 3: CARDÁPIO -->
    <section id="cardapio" class="section-3d" data-section-index="2">
      <h2>Sabores de Paris</h2>
      <p style="font-size: 1.3rem; margin-bottom: 2rem; color: #2c3e2f;">Clássicos franceses com um toque contemporâneo</p>
      <div class="menu-grid">
        <div class="menu-card">
          <img src="https://images.unsplash.com/photo-1510597079-3b9f61a7b7d0?q=80&w=1974&auto=format&fit=crop" alt="Espresso" style="width: 100%; height: 220px; object-fit: cover;">
          <div style="padding: 1.5rem;">
            <h3 style="font-size: 1.8rem; color: #2c3e2f;">Espresso Belle</h3>
            <p style="color: #3a3a3a;">Blend exclusivo de arábica com notas de chocolate e frutas vermelhas.</p>
            <span style="font-size: 1.6rem; font-weight: 700; color: #b78c5a;">R$ 12,50</span>
          </div>
        </div>
        <div class="menu-card">
          <img src="https://images.unsplash.com/photo-1555507036-ab1f4038808a?q=80&w=1926&auto=format&fit=crop" alt="Croissant" style="width: 100%; height: 220px; object-fit: cover;">
          <div style="padding: 1.5rem;">
            <h3 style="font-size: 1.8rem; color: #2c3e2f;">Croissant à la française</h3>
            <p style="color: #3a3a3a;">Massa folhada laminada à mão, manteiga francesa.</p>
            <span style="font-size: 1.6rem; font-weight: 700; color: #b78c5a;">R$ 18,90</span>
          </div>
        </div>
        <div class="menu-card">
          <img src="https://images.unsplash.com/photo-1488477304112-4944851de03d?q=80&w=1974&auto=format&fit=crop" alt="Tartelette" style="width: 100%; height: 220px; object-fit: cover;">
          <div style="padding: 1.5rem;">
            <h3 style="font-size: 1.8rem; color: #2c3e2f;">Tartelette citron</h3>
            <p style="color: #3a3a3a;">Massa doce, creme de limão siciliano e merengue tostado.</p>
            <span style="font-size: 1.6rem; font-weight: 700; color: #b78c5a;">R$ 24,50</span>
          </div>
        </div>
      </div>
    </section>

    <!-- SEÇÃO 4: LOCALIZAÇÃO -->
    <section id="localizacao" class="section-3d" data-section-index="3">
      <h2>Encontre seu refúgio</h2>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; background: rgba(255,255,255,0.3); backdrop-filter: blur(12px); border-radius: var(--radius-md); padding: 2.5rem;">
        <div>
          <i class="fas fa-map-pin" style="font-size: 2rem; color: #b78c5a;"></i>
          <h4 style="font-size: 1.6rem; margin: 1rem 0 0.5rem;">Endereço</h4>
          <p>Rua Augusta, 520 – Consolação</p>
          <p>São Paulo / SP — 01305-000</p>
          <p style="margin-top: 1rem;"><i class="fas fa-train"></i> Metrô Augusta (200m)</p>
        </div>
        <div>
          <i class="fas fa-clock" style="font-size: 2rem; color: #b78c5a;"></i>
          <h4 style="font-size: 1.6rem; margin: 1rem 0 0.5rem;">Horário</h4>
          <ul style="list-style: none;">
            <li style="display: flex; justify-content: space-between; padding: 0.3rem 0;">Segunda–Sexta <span>08:00 – 20:00</span></li>
            <li style="display: flex; justify-content: space-between; padding: 0.3rem 0;">Sábado <span>09:00 – 18:00</span></li>
            <li style="display: flex; justify-content: space-between; padding: 0.3rem 0;">Domingo <span>10:00 – 16:00</span></li>
          </ul>
          <p style="margin-top: 1rem; font-style: italic;">*Happy hour 17h–19h: 20% off</p>
        </div>
      </div>
    </section>
  </div>

  <!-- FOOTER (fora da cena 3D para não distorcer) -->
  <footer id="contato">
    <div style="max-width: 1280px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 2rem;">
      <div>
        <span style="font-family: 'Playfair Display'; font-size: 2.2rem; font-weight: 800;">Belle Vue</span>
        <p style="max-width: 320px;">Café de especialidade e doçaria francesa. Um pedaço de Paris que cabe na sua xícara.</p>
      </div>
      <div>
        <h4 style="color: white;">Conecte-se</h4>
        <div style="display: flex; gap: 1.2rem;">
          <a href="#" class="magnetic-btn" style="color: white; background: rgba(255,255,255,0.1); width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center;"><i class="fab fa-instagram"></i></a>
          <a href="#" class="magnetic-btn" style="color: white; background: rgba(255,255,255,0.1); width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center;"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="magnetic-btn" style="color: white; background: rgba(255,255,255,0.1); width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center;"><i class="fab fa-pinterest"></i></a>
        </div>
      </div>
    </div>
    <div style="text-align: center; margin-top: 3rem; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 2rem;">
      © 2026 Café Belle Vue — Édition Winter '26. Paris em cada gole.
    </div>
  </footer>

  <script>
    // ---------- INICIALIZAÇÃO DOS EFEITOS ----------
    (function() {
      "use strict";

      // ---------- SEÇÕES 3D ----------
      const sections = Array.from(document.querySelectorAll('.section-3d'));
      const body = document.body;
      const video = document.getElementById('bgVideo');
      const overlay = document.getElementById('videoOverlay');

      // ---------- 1. SCROLL-DRIVEN NARRATIVE 3D (CONTÍNUO) ----------
      function update3D() {
        if (window.innerWidth <= 768) return; // mobile: desliga

        const viewportHeight = window.innerHeight;
        const scrollY = window.scrollY;
        const docHeight = document.documentElement.scrollHeight - viewportHeight;
        const progress = docHeight > 0 ? scrollY / docHeight : 0; // 0 a 1

        // Progresso contínuo mapeado para índice de seção
        const totalSections = sections.length;
        // Cada seção ocupa uma faixa de 0.2 de progresso (ajustável)
        const sectionRange = 0.22; // espaço que cada seção leva na timeline

        sections.forEach((section, index) => {
          // Centro da faixa da seção
          const sectionCenter = index * sectionRange + sectionRange / 2;
          // Distância do progresso atual ao centro da seção
          let distance = Math.abs(progress - sectionCenter);
          // Normaliza: 0 = centro, 1 = fora da faixa
          let factor = Math.max(0, 1 - distance / (sectionRange * 0.8));
          // Suaviza com easing
          factor = Math.sin(factor * Math.PI / 2); // ease-out

          // Transformações 3D
          let translateZ, rotateX, rotateY, scale;

          if (factor <= 0.01) {
            // Seção invisível/longe: vai para trás, pequena, rotacionada
            translateZ = -400;
            rotateX = 25;
            rotateY = -15;
            scale = 0.7;
            section.style.opacity = 0.1;
          } else {
            // Quanto mais perto do centro, mais próximo, menos rotacionado, maior
            translateZ = -400 + factor * 400; // de -400 a 0
            rotateX = 25 - factor * 25; // de 25° a 0°
            rotateY = -15 + factor * 15; // de -15° a 0°
            scale = 0.7 + factor * 0.3; // de 0.7 a 1.0
            section.style.opacity = 0.4 + factor * 0.6;
          }

          // Aplica transformação 3D
          section.style.transform = `
            perspective(1200px)
            translateZ(${translateZ}px)
            rotateX(${rotateX}deg)
            rotateY(${rotateY}deg)
            scale(${scale})
          `;
        });

        // ---------- TRANSIÇÃO DE COR DO OVERLAY (progresso) ----------
        if (overlay) {
          let r = Math.round(44 + (120 - 44) * progress);
          let g = Math.round(62 + (80 - 62) * progress);
          let b = Math.round(47 + (60 - 47) * progress);
          overlay.style.background = `radial-gradient(ellipse at 70% 40%, rgba(${r},${g},${b},0.45) 0%, rgba(20,15,10,0.7) 100%)`;
        }

        // ---------- SLOW MOTION PROGRESSIVO DO VÍDEO ----------
        if (video) {
          let rate = Math.max(0.4, 1 - progress * 0.6);
          video.playbackRate = rate;
        }
      }

      // ---------- 2. MAGNETIC BUTTONS ----------
      function initMagnetic() {
        const magnets = document.querySelectorAll('.magnetic-btn, .btn');
        magnets.forEach(el => {
          el.addEventListener('mousemove', (e) => {
            if (window.innerWidth <= 768) return;
            const rect = el.getBoundingClientRect();
            const x = e.clientX - rect.left - rect.width/2;
            const y = e.clientY - rect.top - rect.height/2;
            el.style.transform = `translate(${x*0.2}px, ${y*0.1}px) scale(1.02)`;
          });
          el.addEventListener('mouseleave', () => {
            el.style.transform = 'translate(0, 0) scale(1)';
          });
        });
      }

      // ---------- 3. PARALLAX SUAVE DAS IMAGENS (adicional) ----------
      const storyImg = document.querySelector('#historia img');
      if (storyImg) {
        window.addEventListener('scroll', () => {
          if (window.innerWidth <= 768) return;
          const rect = storyImg.getBoundingClientRect();
          const viewportHeight = window.innerHeight;
          const centerY = rect.top + rect.height/2;
          const offset = (centerY - viewportHeight/2) * 0.05;
          storyImg.style.transform = `translateY(${offset}px) scale(1.05)`;
        });
      }

      // ---------- 4. FALLBACK PARA VÍDEO ----------
      if (video) {
        video.addEventListener('error', function() {
          this.style.display = 'none';
          overlay.style.background = "url('https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2') center/cover no-repeat fixed";
        });
      }

      // ---------- SCROLL OPTIMIZADO COM requestAnimationFrame ----------
      let ticking = false;
      function onScroll() {
        if (!ticking) {
          requestAnimationFrame(() => {
            update3D();
            ticking = false;
          });
          ticking = true;
        }
      }

      window.addEventListener('scroll', onScroll);
      window.addEventListener('resize', onScroll);
      onScroll(); // chamada inicial

      initMagnetic();
    })();

    // ---------- MENU MOBILE (simplificado) ----------
    // ... (código de menu hambúrguer pode ser inserido aqui se necessário)
  </script>
  <noscript>
    <style>.background-video { display: none; } .video-overlay { background: url('https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2') center/cover no-repeat fixed; }</style>
  </noscript>
</body>
</html>
