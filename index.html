<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
  <title>Café Belle Vue — Édition Winter '26</title>
  <!-- Google Fonts: Inter + Playfair Display -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
  <!-- AOS CSS -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <!-- Font Awesome 6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* ---------- VARIÁVEIS & RESET (Shopify Editions DNA) ---------- */
    :root {
      --color-deep-espresso: #2c3e2f;
      --color-cream: #fff9ef;
      --color-warm-latte: #fae9d8;
      --color-caramel: #b78c5a;
      --color-mocha: #7a5a44;
      --glass-bg: rgba(255, 249, 239, 0.75);
      --glass-card: rgba(255, 255, 255, 0.7);
      --shadow-sm: 0 8px 30px rgba(0,0,0,0.03), 0 2px 8px rgba(0,0,0,0.02);
      --shadow-hover: 0 20px 40px rgba(44,62,47,0.12), 0 8px 20px rgba(0,0,0,0.06);
      --transition-shopify: cubic-bezier(0.2, 0, 0, 1);
      --radius-md: 24px;
      --radius-sm: 20px;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html {
      scroll-behavior: smooth;
    }
    body {
      font-family: 'Inter', sans-serif;
      line-height: 1.5;
      font-weight: 350;
      overflow-x: hidden;
      color: var(--color-soft-black);
      background-color: #2c3e2f; /* fallback */
      perspective: 1200px; /* 3D continuidade espacial */
    }
    h1, h2, h3, h4 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      letter-spacing: -0.02em;
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    img {
      display: block;
      max-width: 100%;
      height: auto;
    }
    .container {
      width: 90%;
      max-width: 1280px;
      margin: 0 auto;
      position: relative;
      z-index: 10;
    }

    /* ---------- VÍDEO DE FUNDO FIXO (SITE INTEIRO) ---------- */
    .background-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      pointer-events: none;
      will-change: transform, playbackRate; /* slow motion progressivo */
    }
    /* Overlay com transição de cores (dinâmico via JS) */
    .video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at 70% 40%, rgba(44,62,47,0.4) 0%, rgba(20,15,10,0.65) 100%);
      z-index: -1;
      pointer-events: none;
      transition: background 0.3s var(--transition-shopify);
    }
    .noise-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.03;
      background-image: url('data:image/svg+xml,<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23noise)"/></svg>');
      mix-blend-mode: multiply;
      pointer-events: none;
      z-index: 0;
    }

    /* ---------- EASING GLOBAL (curva Shopify) ---------- */
    * {
      transition-timing-function: cubic-bezier(0.2, 0, 0, 1) !important;
    }

    /* ---------- TIPOGRAFIA ---------- */
    .section-title {
      font-size: 3.2rem;
      color: white;
      margin-bottom: 1rem;
      position: relative;
      display: inline-block;
      letter-spacing: -0.02em;
      line-height: 1.1;
      text-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    @media (max-width: 768px) {
      .section-title {
        font-size: 2.4rem;
      }
    }
    .section-title:after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 0;
      width: 100px;
      height: 4px;
      background-color: var(--color-caramel);
      border-radius: 4px;
    }

    /* ---------- BOTÃO COM NUDGE E EFEITO MAGNÉTICO (BASE) ---------- */
    .btn {
      display: inline-block;
      background-color: var(--color-deep-espresso);
      color: var(--color-cream);
      padding: 1rem 2.8rem;
      border-radius: 50px;
      font-weight: 500;
      font-size: 1.05rem;
      border: 1px solid transparent;
      transition: all 0.35s var(--transition-shopify);
      box-shadow: 0 10px 25px -8px rgba(0,0,0,0.3);
      letter-spacing: 0.3px;
      will-change: transform;
    }
    .btn:hover {
      background-color: transparent;
      color: var(--color-cream);
      border-color: var(--color-cream);
      transform: scale(1.02) translateY(-3px);
      box-shadow: 0 20px 35px -12px rgba(0,0,0,0.4);
    }

    /* ---------- NAVBAR (vidro) ---------- */
    .navbar {
      position: sticky;
      top: 0;
      width: 100%;
      background: rgba(44, 62, 47, 0.2);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      z-index: 1000;
      padding: 1rem 0;
      border-bottom: 1px solid rgba(255,255,255,0.15);
    }
    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 90%;
      margin: 0 auto;
    }
    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 1.9rem;
      font-weight: 800;
      color: white;
      letter-spacing: -1px;
      line-height: 1;
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    .logo span {
      color: var(--color-caramel);
      font-size: 1.2rem;
      margin-left: 2px;
    }
    .nav-links {
      display: flex;
      list-style: none;
      gap: 2.5rem;
      font-weight: 450;
    }
    .nav-links a {
      color: white;
      transition: color 0.2s var(--transition-shopify);
      font-size: 1.05rem;
      letter-spacing: 0.3px;
      text-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    .nav-links a:hover {
      color: var(--color-caramel);
    }

    /* ---------- SEÇÕES COM FUNDO TRANSLÚCIDO (efeito vidro) ---------- */
    section {
      padding: 6rem 0;
      position: relative;
      z-index: 10;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      background: rgba(44, 62, 47, 0.15);
      margin-bottom: 2px;
      border-top: 1px solid rgba(255,255,255,0.1);
      border-bottom: 1px solid rgba(255,255,255,0.1);
      /* 3D Continuidade Espacial: rotação suave baseada no scroll (aplicada via JS) */
      transform-style: preserve-3d;
      transition: transform 0.1s var(--transition-shopify);
    }
    .hero-section {
      padding-top: 0;
      padding-bottom: 0;
      background: transparent;
      backdrop-filter: none;
      border: none;
      display: flex;
      align-items: center;
      min-height: 90vh;
    }

    /* ---------- HERO ---------- */
    .hero-content {
      max-width: 950px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
      color: white;
      text-shadow: 0 4px 30px rgba(0,0,0,0.5);
      text-align: center;
    }
    .hero-badge {
      font-size: 0.8rem;
      letter-spacing: 5px;
      text-transform: uppercase;
      color: #fef7e9;
      background: rgba(44,62,47,0.4);
      backdrop-filter: blur(8px);
      padding: 0.6rem 1.8rem;
      border-radius: 50px;
      display: inline-block;
      margin-bottom: 1.8rem;
      border: 0.5px solid rgba(255,255,240,0.4);
      font-weight: 500;
    }

    /* ---------- STORY (parallax suave e 3D) ---------- */
    .story-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: center;
    }
    .story-text {
      background: var(--glass-card);
      backdrop-filter: blur(12px);
      padding: 2.5rem;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      border: 0.5px solid rgba(255,255,255,0.3);
      color: var(--color-soft-black);
    }
    .story-image {
      border-radius: var(--radius-md);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: all 0.6s var(--transition-shopify);
      aspect-ratio: 4/5;
      border: 0.5px solid rgba(255,255,255,0.3);
      will-change: transform; /* parallax */
    }
    .story-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.9s var(--transition-shopify);
    }
    .story-image:hover img {
      transform: scale(1.04);
    }

    /* ---------- MENU CARDS (efeito vidro) + SWIPE NO MOBILE ---------- */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
      gap: 2.2rem;
      margin-top: 3rem;
    }
    /* Swipe no cardápio para mobile */
    @media (max-width: 768px) {
      .menu-grid {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        gap: 1.5rem;
        padding-bottom: 1rem;
        -webkit-overflow-scrolling: touch;
      }
      .menu-card {
        flex: 0 0 85%;
        scroll-snap-align: start;
      }
    }
    .menu-card {
      background: var(--glass-card);
      backdrop-filter: blur(12px);
      border-radius: var(--radius-md);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: all 0.4s var(--transition-shopify);
      display: flex;
      flex-direction: column;
      border: 0.5px solid rgba(255,255,255,0.3);
      will-change: transform;
    }
    .menu-card:hover {
      transform: translateY(-12px);
      box-shadow: var(--shadow-hover);
      background: rgba(255, 255, 255, 0.8);
    }
    .card-img {
      height: 240px;
      overflow: hidden;
    }
    .card-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.8s var(--transition-shopify);
    }
    .menu-card:hover .card-img img {
      transform: scale(1.05);
    }

    /* ---------- INFO GRID (vidro) ---------- */
    .info-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      background: var(--glass-card);
      backdrop-filter: blur(12px);
      border-radius: var(--radius-md);
      padding: 2.8rem;
      box-shadow: var(--shadow-sm);
      border: 0.5px solid rgba(255,255,255,0.3);
    }

    /* ---------- FOOTER (vidro) ---------- */
    footer {
      background: rgba(44, 62, 47, 0.3);
      backdrop-filter: blur(12px);
      color: white;
      padding: 4rem 0 2rem;
      border-top: 1px solid rgba(255,255,255,0.15);
    }

    /* ---------- MOBILE FIRST (demais ajustes) ---------- */
    @media screen and (max-width: 768px) {
      .nav-links {
        position: fixed;
        top: 80px;
        left: -100%;
        width: 80%;
        height: 100vh;
        background: rgba(44, 62, 47, 0.9);
        backdrop-filter: blur(16px);
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding-top: 3rem;
        gap: 2rem;
        transition: left 0.4s var(--transition-shopify);
        box-shadow: 10px 0 30px rgba(0,0,0,0.2);
        z-index: 999;
      }
      .nav-links.active {
        left: 0;
      }
      .hamburger {
        display: flex;
        flex-direction: column;
        gap: 6px;
        cursor: pointer;
      }
      .hamburger span {
        width: 30px;
        height: 2px;
        background-color: white;
        border-radius: 3px;
        transition: 0.3s var(--transition-shopify);
      }
      .story-grid, .info-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
      .story-image {
        order: -1;
      }
      .background-video {
        display: none;
      }
      .video-overlay {
        background: url('https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2') center/cover no-repeat fixed;
      }
    }

    /* ---------- ANIMAÇÕES AOS ---------- */
    [data-aos] {
      transition-timing-function: cubic-bezier(0.2, 0, 0, 1) !important;
      transition-duration: 0.8s !important;
    }
  </style>
</head>
<body>
  <!-- VÍDEO DE FUNDO FIXO -->
  <video class="background-video" id="bgVideo" autoplay muted loop playsinline poster="https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2">
    <source src="https://videos.pexels.com/video-files/3055500/3055500-uhd_2560_1440_30fps.mp4" type="video/mp4">
    <!-- Fallback: vídeo do Coverr (caso o Pexels falhe) -->
    <source src="https://cdn.coverr.co/videos/coverr-pouring-coffee-1645/1080p.mp4" type="video/mp4">
  </video>
  <div class="video-overlay" id="videoOverlay"></div>
  <div class="noise-overlay"></div>

  <!-- NAVEGAÇÃO -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="logo">Belle Vue<span>☕</span></a>
      <ul class="nav-links" id="navLinks">
        <li><a href="#home" onclick="closeMenu()">Início</a></li>
        <li><a href="#historia" onclick="closeMenu()">História</a></li>
        <li><a href="#cardapio" onclick="closeMenu()">Cardápio</a></li>
        <li><a href="#localizacao" onclick="closeMenu()">Localização</a></li>
        <li><a href="#contato" onclick="closeMenu()">Contato</a></li>
      </ul>
      <div class="hamburger" id="hamburger" onclick="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <section id="home" class="hero-section">
    <div class="hero-content" data-aos="fade-up" data-aos-duration="900">
      <span class="hero-badge">✨ Winter '26 — Paris Édition</span>
      <h1>Paris em<br>cada gole</h1>
      <p>Café especial · Croissants · Arte & aconchego</p>
      <a href="#cardapio" class="btn magnetic-btn">Descobrir o menu →</a>
    </div>
  </section>

  <!-- HISTÓRIA -->
  <section id="historia" class="parallax-section" data-section="historia">
    <div class="container">
      <h2 class="section-title" data-aos="fade-right">Nossa história</h2>
      <div class="story-grid">
        <div class="story-text" data-aos="fade-right" data-aos-delay="100">
          <p>Em uma pequena travessa do 6º arrondissement, nasceu o sonho de trazer a cadência parisiense para o coração do Brasil. <strong>Café Belle Vue</strong> é uma homenagem aos bistrôs escondidos, onde o tempo desacelera e o aroma do café recém-torrado conta histórias.</p>
          <p>Nossos grãos são cultivados nas montanhas da Borgonha e torrados artesanalmente. Cada xícara é um convite: desacelere, sinta o momento. Aqui, a pressa fica do lado de fora.</p>
          <p style="font-size: 1.3rem; font-family: 'Playfair Display'; color: #7a5a44;">— "O verdadeiro luxo é o tempo bem gasto."</p>
          <a href="#cardapio" style="color: var(--color-caramel); font-weight: 600; margin-top: 1.5rem; display: inline-block;">Conheça nossos blends →</a>
        </div>
        <div class="story-image parallax-image" data-speed="0.1" data-aos="fade-left" data-aos-delay="150">
          <img src="https://images.unsplash.com/photo-1554115331131-375e3b3e54b1?q=80&w=1974&auto=format&fit=crop" alt="Interior do Café" loading="lazy">
        </div>
      </div>
    </div>
  </section>

  <!-- CARDÁPIO -->
  <section id="cardapio" class="parallax-section" data-section="cardapio">
    <div class="container">
      <h2 class="section-title" data-aos="fade-right">Sabores de Paris</h2>
      <p style="font-size: 1.3rem; margin-bottom: 2rem; color: white; font-weight: 350; max-width: 700px; text-shadow: 0 1px 4px rgba(0,0,0,0.3);">Clássicos franceses com um toque contemporâneo</p>
      <div class="menu-grid" id="menuGrid">
        <!-- ITEM 1 -->
        <div class="menu-card magnetic-card" data-aos="zoom-in-up" data-aos-delay="50">
          <div class="card-img">
            <img src="https://images.unsplash.com/photo-1510597079-3b9f61a7b7d0?q=80&w=1974&auto=format&fit=crop" alt="Espresso" loading="lazy">
          </div>
          <div class="card-content">
            <h3>Espresso Belle</h3>
            <p>Blend exclusivo de arábica com notas de chocolate amargo e frutas vermelhas.</p>
            <span class="price">R$ 12,50 <small>70ml</small></span>
          </div>
        </div>
        <!-- ITEM 2 -->
        <div class="menu-card magnetic-card" data-aos="zoom-in-up" data-aos-delay="100">
          <div class="card-img">
            <img src="https://images.unsplash.com/photo-1555507036-ab1f4038808a?q=80&w=1926&auto=format&fit=crop" alt="Croissant" loading="lazy">
          </div>
          <div class="card-content">
            <h3>Croissant à la française</h3>
            <p>Massa folhada laminada à mão, manteiga francesa. Crocante por fora, macio por dentro.</p>
            <span class="price">R$ 18,90</span>
          </div>
        </div>
        <!-- ITEM 3 -->
        <div class="menu-card magnetic-card" data-aos="zoom-in-up" data-aos-delay="150">
          <div class="card-img">
            <img src="https://images.unsplash.com/photo-1488477304112-4944851de03d?q=80&w=1974&auto=format&fit=crop" alt="Tartelette" loading="lazy">
          </div>
          <div class="card-content">
            <h3>Tartelette citron</h3>
            <p>Massa doce crocante, creme de limão siciliano e merengue italiano tostado.</p>
            <span class="price">R$ 24,50</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- LOCALIZAÇÃO -->
  <section id="localizacao" class="parallax-section" data-section="localizacao">
    <div class="container">
      <h2 class="section-title" data-aos="fade-right">Encontre seu refúgio</h2>
      <div class="info-grid" data-aos="flip-up" data-aos-duration="800">
        <div class="info-item">
          <i class="fas fa-map-pin"></i>
          <div class="info-text">
            <h4>Endereço</h4>
            <p>Rua Augusta, 520 – Consolação</p>
            <p>São Paulo / SP — 01305-000</p>
            <p style="margin-top: 0.8rem;"><i class="fas fa-train" style="margin-right: 8px; color: var(--color-caramel);"></i> Metrô Augusta (200m)</p>
          </div>
        </div>
        <div class="info-item">
          <i class="fas fa-clock"></i>
          <div class="info-text">
            <h4>Horário</h4>
            <ul class="hours">
              <li><span>Segunda–Sexta</span> <span>08:00 – 20:00</span></li>
              <li><span>Sábado</span> <span>09:00 – 18:00</span></li>
              <li><span>Domingo</span> <span>10:00 – 16:00</span></li>
            </ul>
            <p style="margin-top: 1rem; font-style: italic;">*Happy hour 17h–19h: 20% off</p>
          </div>
        </div>
      </div>
      <div style="margin-top: 2.5rem; border-radius: var(--radius-md); overflow: hidden; box-shadow: var(--shadow-sm); height: 240px; background: rgba(255,255,255,0.3); backdrop-filter: blur(8px); display: flex; align-items: center; justify-content: center; border: 0.5px solid rgba(255,255,255,0.3);" data-aos="fade-up">
        <div style="text-align: center; color: white; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">
          <i class="fas fa-map" style="font-size: 3rem; opacity: 0.8; margin-bottom: 0.7rem;"></i>
          <p style="font-weight: 500; font-size: 1.1rem;">Rua Augusta, 520 – aberto todos os dias<br><span style="font-size: 0.95rem;">(mapa interativo em breve)</span></p>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="contato">
    <div class="container">
      <div class="footer-content" style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 2.5rem; margin-bottom: 2.5rem;">
        <div>
          <span class="footer-logo">Belle Vue</span>
          <p style="margin-top: 1rem; max-width: 320px; opacity: 0.9; font-weight: 300;">Café de especialidade e doçaria francesa. Um pedaço de Paris que cabe na sua xícara.</p>
        </div>
        <div>
          <h4 style="color: white; margin-bottom: 1.2rem; font-size: 1.5rem;">Conecte-se</h4>
          <div class="social" style="display: flex; gap: 1.2rem;">
            <a href="#" class="magnetic-btn" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" class="magnetic-btn" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="magnetic-btn" aria-label="Pinterest"><i class="fab fa-pinterest"></i></a>
            <a href="#" class="magnetic-btn" aria-label="E-mail"><i class="fas fa-envelope"></i></a>
          </div>
          <p style="margin-top: 1.8rem;"><i class="fas fa-phone-alt" style="margin-right: 8px;"></i> (11) 98765-4321</p>
          <p><i class="fas fa-envelope" style="margin-right: 8px;"></i> bonjour@bellevuecafe.com.br</p>
        </div>
      </div>
      <div class="copyright" style="text-align: center; border-top: 1px solid rgba(255,255,255,0.15); padding-top: 2rem; font-size: 0.95rem;">
        <p>© 2026 Café Belle Vue — Édition Winter '26. Paris em cada gole.</p>
      </div>
    </div>
  </footer>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    // Inicializa AOS
    AOS.init({
      duration: 850,
      once: true,
      offset: 40,
      disable: 'mobile',
      easing: 'cubic-bezier(0.2, 0, 0, 1)'
    });

    // ---------- MENU MOBILE ----------
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('navLinks');
    function toggleMenu() {
      hamburger.classList.toggle('active');
      navLinks.classList.toggle('active');
    }
    function closeMenu() {
      hamburger.classList.remove('active');
      navLinks.classList.remove('active');
    }
    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', closeMenu);
    });
    window.addEventListener('resize', function() {
      if (window.innerWidth > 768) {
        navLinks.classList.remove('active');
        hamburger.classList.remove('active');
      }
    });

    // ---------- 1. TRANSIÇÃO DE CORES NO OVERLAY ----------
    const overlay = document.getElementById('videoOverlay');
    const sections = document.querySelectorAll('section[data-section]');
    function updateOverlayColor() {
      let scrollY = window.scrollY;
      let winHeight = window.innerHeight;
      let maxScroll = document.body.scrollHeight - winHeight;
      let progress = maxScroll ? scrollY / maxScroll : 0;
      
      // Gradiente base: mais quente (caramelo) no início, mais frio (espresso) no fim
      let r1 = 44, g1 = 62, b1 = 47; // deep espresso
      let r2 = 120, g2 = 80, b2 = 60; // tom caramelo
      
      let r = Math.round(r1 + (r2 - r1) * progress);
      let g = Math.round(g1 + (g2 - g1) * progress);
      let b = Math.round(b1 + (b2 - b1) * progress);
      
      overlay.style.background = `radial-gradient(ellipse at 70% 40%, rgba(${r},${g},${b},0.4) 0%, rgba(20,15,10,0.7) 100%)`;
    }

    // ---------- 2. PARALLAX SUAVE NAS IMAGENS ----------
    const parallaxImages = document.querySelectorAll('.parallax-image');
    function updateParallax() {
      parallaxImages.forEach(img => {
        const speed = parseFloat(img.dataset.speed) || 0.1;
        const rect = img.getBoundingClientRect();
        const viewportHeight = window.innerHeight;
        const relativeCenter = (rect.top + rect.height / 2) / viewportHeight;
        const offset = (relativeCenter - 0.5) * speed * 100;
        img.style.transform = `translateY(${offset}px)`;
      });
    }

    // ---------- 3. MAGNETIC BUTTONS ----------
    const magneticElements = document.querySelectorAll('.magnetic-btn, .btn, .social a');
    function initMagnetic() {
      magneticElements.forEach(el => {
        el.addEventListener('mousemove', (e) => {
          if (window.innerWidth <= 768) return;
          const rect = el.getBoundingClientRect();
          const x = e.clientX - rect.left - rect.width / 2;
          const y = e.clientY - rect.top - rect.height / 2;
          el.style.transform = `translate(${x * 0.2}px, ${y * 0.1}px) scale(1.02)`;
        });
        el.addEventListener('mouseleave', () => {
          el.style.transform = 'translate(0, 0) scale(1)';
        });
      });
    }

    // ---------- 4. VÍDEO COM SLOW MOTION PROGRESSIVO ----------
    const video = document.getElementById('bgVideo');
    function updateVideoPlayback() {
      if (!video) return;
      let scrollY = window.scrollY;
      let maxScroll = document.body.scrollHeight - window.innerHeight;
      let progress = maxScroll ? scrollY / maxScroll : 0;
      // Playback rate: de 1.0 (topo) até 0.4 (fim) – mais lento ao rolar
      let rate = Math.max(0.4, 1 - progress * 0.6);
      video.playbackRate = rate;
    }

    // ---------- 5. SCROLL-DRIVEN NARRATIVE + 3D CONTINUIDADE ESPACIAL ----------
    // Aplica rotação 3D nas seções baseada no scroll
    const sections3D = document.querySelectorAll('section:not(.hero-section)');
    function update3DContinuity() {
      let scrollY = window.scrollY;
      sections3D.forEach((sec, index) => {
        const rect = sec.getBoundingClientRect();
        const viewportHeight = window.innerHeight;
        // Calcula o quão central a seção está na viewport
        const centerDist = (rect.top + rect.height / 2) - viewportHeight / 2;
        // Rotação em Y (eixo horizontal) suave: -1deg a 1deg
        let rotateY = Math.max(-1, Math.min(1, centerDist * 0.002));
        // Pequeno deslocamento em Z para sensação de profundidade
        let translateZ = Math.abs(centerDist) * 0.05;
        sec.style.transform = `perspective(1200px) rotateY(${rotateY}deg) translateZ(${translateZ}px)`;
      });
    }

    // ---------- LISTENER DE SCROLL (otimizado) ----------
    let ticking = false;
    function onScroll() {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          updateOverlayColor();
          updateParallax();
          updateVideoPlayback();
          update3DContinuity();
          ticking = false;
        });
        ticking = true;
      }
    }
    window.addEventListener('scroll', onScroll);
    window.addEventListener('resize', onScroll);
    onScroll(); // inicial

    // ---------- INICIALIZA MAGNETIC ----------
    initMagnetic();

    // ---------- FALLBACK DO VÍDEO ----------
    video.addEventListener('error', function() {
      this.style.display = 'none';
      overlay.style.background = "url('https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2') center/cover no-repeat fixed";
    });
  </script>
  <noscript>
    <style>.background-video { display: none; } .video-overlay { background: url('https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2') center/cover no-repeat fixed; }</style>
  </noscript>
</body>
</html>
